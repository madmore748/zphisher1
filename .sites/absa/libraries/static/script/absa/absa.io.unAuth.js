absa.io=absa.io||{};absa.io.makeRequest=function(f,m,g){if(!g){g={}}var k={};if(!g[gadgets.io.RequestParameters.METHOD]){if(f){if(f.indexOf("?")==-1){k.nonce=absa.NONCE;k.uniq=new Date().getTime()}else{var h=new Array();h[0]=f.substring(0,f.indexOf("?"));h[1]=f.substring((f.indexOf("?")+1));if(h.length==2){f="";for(var l=0;l<h.length;l++){if(l==0){f+=h[0];k.nonce=absa.NONCE;k.uniq=new Date().getTime()}else{var e=h[l].split("&");if(e&&e!=""){for(a in e){var c=e[a].split("=");if(c&&c!=""){var i=c[0];var b=c[1];if(i){if(b==null||b=="undefined"){b=""}if(k[i]){k[i].push(decodeURIComponent(b))}else{k[i]=new Array();k[i].push(decodeURIComponent(b))}}}}}}}}else{k.nonce=absa.NONCE;k.uniq=new Date().getTime()}}}else{k.nonce=absa.NONCE;k.uniq=new Date().getTime()}g[gadgets.io.RequestParameters.METHOD]=gadgets.io.MethodType.POST;g[gadgets.io.RequestParameters.POST_DATA]=gadgets.io.encodeValues(k)}else{if(!g[gadgets.io.RequestParameters.POST_DATA]){k.nonce=absa.NONCE;k.uniq=new Date().getTime();g[gadgets.io.RequestParameters.POST_DATA]=gadgets.io.encodeValues(k)}else{var j=g[gadgets.io.RequestParameters.POST_DATA];j+="&";var h=f.split("?");if(h){f="";for(var l=0;l<h.length;l++){if(l==0){f+=h[0]}else{j+=h[l]}}}j=j+"&nonce="+absa.NONCE+"&uniq="+new Date().getTime();g[gadgets.io.RequestParameters.POST_DATA]=j}}if(!g[gadgets.io.RequestParameters.TIMEOUT]){g[gadgets.io.RequestParameters.TIMEOUT]=2400000}function d(n){if(n.headers["Logon-Jsp"]){document.location=n.headers["Logon-Jsp"]}else{if(m){m(n)}}}return gadgets.io.makeRequest(f,d,g)};